---
layout: blog
title: 高级IO
categories: [服务器]
description:
keywords: 高级IO
cnblogsClass: \[Markdown\],\[随笔分类\]服务器
oschinaClass: \[Markdown\],服务器,日常记录
csdnClass: \[Markdown\]
163Class: \[Markdown\]
51ctoClass: \[Markdown\]
chinaunixClass: \[Markdown\]
sinaClass: \[Markdown\]
---
# 高级IO
特殊的IO操作，包括文件锁、系统V的流、信号驱动的I/O、多路转I/O（select和pull函数）、readv和writev函数以及存贮映射I/O等概念和函数。

## 文件锁
文件锁是用户、多任务操作系统中非常重要的内容。文件锁机制为多个程序访问共享的文件提供重要的安全保护手段。

UNIX系统允许多个进程同时对一个文件进行读写操作，每一个read或write调用本身是原子的，但在两个系统调用之间并没有同步。

通过文件锁，进程在操作期间，可以锁定文件中敏感的部分以防止其他进程更改这部分中的数据。

文件锁根据其访问方式，分为读锁、写锁。
- 读锁目的防止其他进程更改文件。在一个文件中设置读锁，其他进程仍可在相同部分设置读锁，但不允许设置写锁。故读锁也称为共享锁或共享读锁。
- 写锁隔离文件使它所写的内容不受其他进程干扰。在一个文件上设置写锁，不允许其他进程在相同部分再设置任何类型的锁。故写锁称为互斥锁或互斥写锁。

<!-- ### fcntl文件锁操作 -->
