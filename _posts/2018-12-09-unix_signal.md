---
layout: blog
title: 信号处理
categories: [服务器]
description:
keywords: 信号处理
cnblogsClass: \[Markdown\],\[随笔分类\]服务器
oschinaClass: \[Markdown\],服务器,日常记录
csdnClass: \[Markdown\]
163Class: \[Markdown\]
51ctoClass: \[Markdown\]
chinaunixClass: \[Markdown\]
sinaClass: \[Markdown\]
---

# 信号处理
信号作为通知进程发生了某种事件的一种手段，这种时间需要提前请进程注意，并且其发生常常与进程当前的活动无关。信号也称为软中断，它提供了一种处理异步事件的方法，多数应用程序都会用到它。

## 信号概念
信号是异步传送给进程的一种事件通知，进程无法准确的预测合适会出现信号。产生信号的原因有：

- 用户按下了某个终止键，如ctrl+c|ctrl-\等。（中断信号SIGINT）
- 程序异常，如零做除数、非法存储访问等。这种情况一般由硬件检测出，但由内核向发生异常的那个进程发送相应的信号。
- kill函数允许进程发送任何信号给其他进程或进程组。
- 当发生了某种必须让进程知道的事件时也会生成信号。这些事件不是由硬件而是有软条件产生的。
- 企图读写终端的后台进程会得到作业控制信号SIGTTIN或SIGT-TOU
- 当进程超越了CPU或文件大小的限制，内核会生成一个信号。

生成信号归为三大类：程序错误、外部事件和显示请求。

信号的生成既可以是同步的，也可以是异步的。多数程序错误生成的信号是同步的。由进程显示请求而生成的给自己的信号也是同步的。

异步信号是进程之外的事件生成的信号。一般外部事件总是异步的生成信号。异步信号可以在进程运行的任意时刻产生，进程无法预期信号到达的时刻，他所能做的只是告诉内核假如有信号生成
时应当采取什么行动。

> 当信号发生时，进程可以采取三种动作：
- 忽略信号。
- 捕获信号
- 执行系统默认动作。内核来完成，有五种默认动作：
    - 流产：终止进程并且完成内存存贮文件，即写出进程的地址空间内容和寄存器上下文至进程当前目录下名为core的文件中。
    - 终止：终止进程但不生成core文件
    - 忽略：忽略信号
    - 挂起：暂停进程
    - 继续：若进程被暂停，回复进程执行，否则忽略此信号

进程可以在任何时候为信号指定一个新动作或回复其默认动作。对于每一种信号，在某个时刻它对应的动作安排称为该信号的布局。

信号处理过程实际上设计两个方面——生成和交付。